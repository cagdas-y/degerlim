<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ELIF_CORE_INTERFACE</title>
    <style>
        /* --- CSS: KOZMİK ARAYÜZ --- */
        :root {
            --bg: #050505;
            --primary: #00f3ff;
            /* Siber Mavi */
            --text: #e0e0e0;
        }

        body {
            margin: 0;
            overflow: hidden;
            background: var(--bg);
            font-family: 'Courier New', monospace;
            color: var(--text);
            user-select: none;
            -webkit-user-select: none;
            touch-action: none;
        }

        canvas {
            display: block;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

        /* KATMAN YÖNETİMİ */
        .layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            transition: opacity 1s ease-in-out;
            pointer-events: none;
        }

        .interactive {
            pointer-events: auto;
            cursor: pointer;
        }

        .hidden {
            opacity: 0;
            pointer-events: none;
        }

        .visible {
            opacity: 1;
            pointer-events: auto;
        }

        .removed {
            display: none !important;
        }

        /* AŞAMA 0: GİRİŞ */
        #intro-layer {
            cursor: pointer;
        }

        #intro-title {
            font-size: 2.5rem;
            letter-spacing: 15px;
            text-transform: uppercase;
            color: var(--primary);
            text-shadow: 0 0 10px var(--primary);
            opacity: 0;
            transform: scale(1.2);
            animation: scaleInGlitch 2.5s forwards cubic-bezier(0.68, -0.55, 0.27, 1.55);
            position: relative;
        }

        #intro-title::before,
        #intro-title::after {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            color: var(--primary);
            text-shadow: none;
        }

        #intro-title::before {
            animation: glitch-text 1.5s infinite linear alternate-reverse;
            left: 2px;
            text-shadow: 1px 0 red;
        }

        #intro-title::after {
            animation: glitch-text 1.5s infinite linear alternate;
            left: -2px;
            text-shadow: -1px 0 blue;
        }

        .intro-subtext {
            font-size: 0.9rem;
            letter-spacing: 5px;
            opacity: 0;
            margin-top: 20px;
            animation: fadeIn 1.5s forwards 2s;
        }

        /* Giriş Efekti */
        .scan-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(0, 0, 0, 0) 50%, rgba(0, 255, 255, 0.3) 50%, rgba(0, 0, 0, 0) 60%);
            opacity: 0;
            transform: translateY(-100%);
            z-index: 100;
        }

        .scan-active .scan-effect {
            opacity: 1;
            animation: scan 0.5s linear forwards;
        }

        /* AŞAMA 1: KİLİT */
        #lock-ring {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            border: 2px dashed rgba(255, 255, 255, 0.2);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #lock-fill {
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            border-radius: 50%;
            border: 4px solid var(--primary);
            border-left-color: transparent;
            border-bottom-color: transparent;
            transform: rotate(-45deg);
            opacity: 0;
            transition: transform 0.1s;
            box-shadow: 0 0 30px var(--primary);
        }

        .lock-text {
            margin-top: 30px;
            font-size: 0.8rem;
            letter-spacing: 3px;
            text-transform: uppercase;
            animation: blink 2s infinite;
        }

        /* AŞAMA 2: FINAL BİLGİLERİ VE HUD */
        #core-layer {
            position: relative;
        }

        #info-panel {
            position: absolute;
            top: 25%;
            width: 100%;
            text-align: center;
            z-index: 20;
            pointer-events: none;
        }

        .date-title {
            font-size: 0.7rem;
            letter-spacing: 5px;
            opacity: 0.6;
            margin-bottom: 10px;
        }

        .counter {
            font-size: 1.8rem;
            font-weight: bold;
        }



        /* HUD ÇERÇEVESİ */
        .hud-element {
            position: absolute;
            border: 1px solid var(--primary);
            box-shadow: 0 0 15px var(--primary);
            transition: box-shadow 0.5s, border-color 0.5s;
            pointer-events: none;
            z-index: 5;
            width: 50px;
            height: 50px;
            animation: slideCorners 4s infinite alternate;
        }

        @keyframes slideCorners {
            0% {
                transform: translate(0, 0);
            }

            50% {
                #hud-bottom-left {
                    transform: translate(3px, -6px);
                }

                #hud-bottom-right {
                    transform: translate(-6px, -3px);
                }
            }

            100% {
                transform: translate(0, 0);
            }
        }

        #hud-bottom-left {
            bottom: 20px;
            left: 20px;
            border-right: none;
            border-top: none;
        }

        #hud-bottom-right {
            bottom: 20px;
            right: 20px;
            border-left: none;
            border-top: none;
        }

        /* Diğer Animasyonlar */
        @keyframes blink {

            0%,
            100% {
                opacity: 0.5;
            }

            50% {
                opacity: 1;
            }
        }

        @keyframes fadeIn {
            0% {
                opacity: 0;
            }

            100% {
                opacity: 1;
            }
        }

        @keyframes scaleInGlitch {
            0% {
                opacity: 0;
                transform: scale(1.5);
                filter: blur(10px);
            }

            50% {
                opacity: 1;
                transform: scale(1);
                filter: blur(0px);
            }

            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes glitch-text {
            0% {
                clip: rect(0 9999px 2px 0);
            }

            33% {
                clip: rect(78px 9999px 92px 0);
            }

            66% {
                clip: rect(18px 9999px 40px 0);
            }

            100% {
                clip: rect(51px 9999px 74px 0);
            }
        }

        @keyframes scan {
            0% {
                transform: translateY(-100%);
            }

            100% {
                transform: translateY(100%);
            }
        }
    </style>
</head>

<body>

    <div class="scan-effect"></div>
    <canvas id="canvas"></canvas>

    <div id="intro-layer" class="layer visible interactive">
        <div id="intro-title" data-text="ELIF//INFINITY">E</div>
        <div class="intro-subtext">Varlığın Her Şeye Anlam Katıyor</div>
    </div>

    <div id="lock-layer" class="layer hidden removed">
        <div id="lock-ring" class="interactive">
            <div id="lock-fill"></div>
            <div id="inner-name"
                style="font-size: 1.8rem; color: var(--primary); text-shadow: 0 0 10px var(--primary); z-index: 5;">E
            </div>
        </div>
        <div class="lock-text">Basılı Tut</div>
    </div>
    <div class="intro-subtext">Seninle ile Her An Değerli</div>


    <div id="core-layer" class="layer hidden removed">
        <div id="hud-bottom-left" class="hud-element"></div>
        <div id="hud-bottom-right" class="hud-element"></div>

        <div id="info-panel">
            <div class="date-title"></div>
            <div class="counter" id="timer">00:00:00:00</div>
        </div>


    </div>

    <script>
        // Konfigürasyon
        const CONFIG = {
            // Ay kısmına 11 yazmalısınız (Aralık ayı için)
            startDate: new Date(2025, 11, 7, 0, 0, 0).getTime(),


        };

        // --- SES MOTORU ---
        const AudioSys = {
            ctx: null, osc: null, gain: null,
            init() {
                const AC = window.AudioContext || window.webkitAudioContext;
                if (!AC) return;
                this.ctx = new AC();
                this.osc = this.ctx.createOscillator();
                this.gain = this.ctx.createGain();
                this.osc.connect(this.gain);
                this.gain.connect(this.ctx.destination);
                this.osc.type = 'sine';
                this.osc.frequency.value = 100;
                this.gain.gain.value = 0;
                this.osc.start();
            },
            setTone(freq, vol) {
                if (!this.ctx) return;
                this.osc.frequency.setTargetAtTime(freq, this.ctx.currentTime, 0.1);
                this.gain.gain.setTargetAtTime(vol, this.ctx.currentTime, 0.1);
            },
            stop() {
                if (this.gain) this.gain.gain.setTargetAtTime(0, this.ctx.currentTime, 0.5);
            },
            playGlitchSound() {
                if (!this.ctx) return;
                const bfo = this.ctx.createBiquadFilter(); bfo.type = 'lowpass'; bfo.frequency.value = 1000 + Math.random() * 2000;
                const whiteNoise = this.ctx.createBufferSource();
                const bufferSize = this.ctx.sampleRate * 0.1;
                const buffer = this.ctx.createBuffer(1, bufferSize, this.ctx.sampleRate);
                const output = buffer.getChannelData(0);
                for (let i = 0; i < bufferSize; i++) output[i] = Math.random() * 2 - 1;
                whiteNoise.buffer = buffer; whiteNoise.loop = false; whiteNoise.connect(bfo); bfo.connect(this.gain);
                this.gain.gain.setValueAtTime(0.05, this.ctx.currentTime);
                this.gain.gain.exponentialRampToValueAtTime(0.001, this.ctx.currentTime + 0.1);
                whiteNoise.start(); whiteNoise.stop(this.ctx.currentTime + 0.1);
            },
            playFocusSound() {
                if (!this.ctx) return;
                const o = this.ctx.createOscillator(), g = this.ctx.createGain();
                o.type = 'sawtooth';
                o.frequency.setValueAtTime(50, this.ctx.currentTime);
                o.frequency.linearRampToValueAtTime(800, this.ctx.currentTime + 1.5);
                g.gain.setValueAtTime(0.05, this.ctx.currentTime);
                g.gain.linearRampToValueAtTime(0.001, this.ctx.currentTime + 1.5);
                o.connect(g); g.connect(this.ctx.destination);
                o.start(); o.stop(this.ctx.currentTime + 1.5);
            }
        };

        // --- GÖRSEL MOTOR (CANVAS) ---
        const Visuals = {
            canvas: document.getElementById('canvas'),
            ctx: document.getElementById('canvas').getContext('2d'),
            W: 0, H: 0,
            particles: [],
            mode: 'starfield',
            rotation: 0,
            friction: 0.93,
            spring: 0.02,
            baseHue: 0,

            init() {
                this.resize();
                window.addEventListener('resize', () => this.resize());
                this.createStars();
                this.loop();
            },
            resize() {
                this.W = window.innerWidth; this.H = window.innerHeight;
                this.canvas.width = this.W; this.canvas.height = this.H;
            },
            createStars() {
                this.particles = [];
                for (let i = 0; i < 150; i++) {
                    this.particles.push({
                        x: Math.random() * this.W, y: Math.random() * this.H, z: Math.random() * 2,
                        sz: Math.random() * 2.5, type: 'star'
                    });
                }
            },

            createHeart() {
                this.mode = 'heart';
                this.baseHue = Math.floor(Math.random() * 360);
                this.particles = [];
                const mainHeartScaleFactor = Math.min(this.W, this.H) / 60;
                const mainHeartRadius = mainHeartScaleFactor * 18;

                for (let i = 0; i < 2000; i++) {
                    let t = Math.random() * Math.PI * 2;
                    let x = 16 * Math.pow(Math.sin(t), 3);
                    let y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
                    let z = (Math.random() * 10 - 5);
                    const hue = (this.baseHue + (Math.random() * 40 - 20)) % 360;
                    this.particles.push({
                        x: (Math.random() - 0.5) * this.W, y: (Math.random() - 0.5) * this.H, z: (Math.random() - 0.5) * 200,
                        targetX: x * mainHeartScaleFactor, targetY: y * mainHeartScaleFactor, targetZ: z,
                        vx: (Math.random() - 0.5) * 20, vy: (Math.random() - 0.5) * 20, vz: (Math.random() - 0.5) * 20,
                        sz: 1.5 + Math.random() * 15,
                        color: `hsla(${hue}, 100%, 55%, 0.9)`,
                        type: 'heart',
                        shape: Math.random() > 0.5 ? 'square' : 'plus'
                    });
                }

                // SADECE 3 ADET UFAK RASTGELE KALP
                for (let j = 0; j < 3; j++) {
                    const smallScale = Math.min(this.W, this.H) / 150;
                    let offsetX = (Math.random() - 0.5) * this.W * 0.8;
                    let offsetY = (Math.random() - 0.5) * this.H * 0.8;

                    for (let i = 0; i < 100; i++) {
                        let t = Math.random() * Math.PI * 2;
                        let x = 16 * Math.pow(Math.sin(t), 3);
                        let y = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
                        this.particles.push({
                            x: (Math.random() - 0.5) * this.W, y: (Math.random() - 0.5) * this.H, z: (Math.random() - 0.5) * 100,
                            targetX: offsetX + x * smallScale, targetY: offsetY + y * smallScale, targetZ: 0,
                            vx: 0, vy: 0, vz: 0, sz: 1,
                            color: `hsla(${(this.baseHue + 180) % 360}, 100%, 60%, 0.8)`,
                            type: 'heart', shape: 'square'
                        });
                    }
                }

                App.updateHUDColor(this.baseHue);

            },

            explode() {
                this.particles.forEach(p => {
                    if (p.type === 'heart') {
                        p.vx += (Math.random() - 0.5) * 60;
                        p.vy += (Math.random() - 0.5) * 60;
                        p.vz += (Math.random() - 0.5) * 60;
                    }
                });
            },

            drawParticle(p, rotX, rotZ, scale) {
                const cx = this.W / 2; const cy = this.H / 2;
                const size = p.sz * scale;
                const opacity = Math.min(1, Math.max(0.2, (rotZ + 300) / 600));
                this.ctx.fillStyle = p.color.replace('0.9', opacity.toFixed(2));
                this.ctx.beginPath();
                if (p.shape === 'square') {
                    this.ctx.fillRect(cx + rotX - size / 2, cy + p.y - size / 2, size, size);
                } else {
                    const thickness = size / 6;
                    this.ctx.fillRect(cx + rotX - thickness / 2, cy + p.y - size / 2, thickness, size);
                    this.ctx.fillRect(cx + rotX - size / 2, cy + p.y - thickness / 2, size, thickness);
                }
            },

            loop() {
                this.ctx.fillStyle = this.mode === 'heart' ? 'rgba(5,5,5,0.2)' : 'rgba(5,5,5,0.4)';
                this.ctx.fillRect(0, 0, this.W, this.H);

                if (this.mode === 'starfield') {
                    this.ctx.fillStyle = '#fff';
                    this.particles.forEach(p => {
                        p.y += p.z * 0.5;
                        if (p.y > this.H) p.y = 0;
                        this.ctx.beginPath(); this.ctx.arc(p.x, p.y, p.sz, 0, Math.PI * 2); this.ctx.fill();
                    });
                } else {
                    this.rotation += 0.005;
                    this.particles.sort((a, b) => b.z - a.z);
                    this.particles.forEach(p => {
                        p.vx += (p.targetX - p.x) * this.spring;
                        p.vy += (p.targetY - p.y) * this.spring;
                        p.vz += (p.targetZ - p.z) * this.spring;
                        p.vx *= this.friction; p.vy *= this.friction; p.vz *= this.friction;
                        p.x += p.vx; p.y += p.vy; p.z += p.vz;
                        let rotX = p.x * Math.cos(this.rotation) - p.z * Math.sin(this.rotation);
                        let rotZ = p.x * Math.sin(this.rotation) + p.z * Math.cos(this.rotation);
                        let scale = Math.max(0.1, 1 + (rotZ / 1000));
                        this.drawParticle(p, rotX, rotZ, scale);
                    });
                }
                requestAnimationFrame(() => this.loop());
            }
        };

        // --- UYGULAMA MANTIĞI ---
        const App = {
            msgIndex: 0, holdInterval: null, progress: 0, currentLayer: 'intro-layer',
            init() {
                Visuals.init();
                AudioSys.init();
                App.startIntroSequence();

                document.getElementById('intro-layer').addEventListener('click', () => {
                    if (this.currentLayer === 'intro-layer') {
                        document.body.classList.add('scan-active');
                        setTimeout(() => {
                            document.body.classList.remove('scan-active');
                            this.switchLayer('intro-layer', 'lock-layer');
                        }, 500);
                    }
                });

                const lockBtn = document.getElementById('lock-ring');
                const fill = document.getElementById('lock-fill');

                const startHold = (e) => {
                    if (e.cancelable) e.preventDefault();
                    this.holdInterval = setInterval(() => {
                        this.progress += 2;
                        fill.style.transform = `rotate(${-45 + (this.progress * 3.6)}deg)`;
                        fill.style.opacity = 1;
                        AudioSys.setTone(100 + (this.progress * 5), this.progress / 200);
                        if (this.progress >= 100) {
                            clearInterval(this.holdInterval);
                            this.unlockSuccess();
                        }
                    }, 20);
                };

                const endHold = () => {
                    clearInterval(this.holdInterval);
                    this.progress = 0;
                    fill.style.opacity = 0;
                    AudioSys.setTone(100, 0);
                };

                lockBtn.addEventListener('mousedown', startHold);
                lockBtn.addEventListener('touchstart', startHold);
                window.addEventListener('mouseup', endHold);
                window.addEventListener('touchend', endHold);

                document.getElementById('canvas').addEventListener('click', () => {
                    if (Visuals.mode === 'heart' && this.currentLayer === 'core-layer') {
                        Visuals.explode();
                        setTimeout(() => Visuals.createHeart(), 50);
                    }
                });
            },

            updateHUDColor(hue) {
                const color = `hsla(${hue}, 100%, 60%, 1)`;
                document.querySelectorAll('.hud-element').forEach(el => {
                    el.style.borderColor = color;
                    el.style.boxShadow = `0 0 15px ${color}`;
                });
                document.getElementById('timer').style.textShadow = `0 0 10px ${color}`;
            },

            startIntroSequence() {
                AudioSys.playFocusSound();
                setTimeout(() => {
                    document.body.classList.add('scan-active');
                    setTimeout(() => {
                        document.body.classList.remove('scan-active');
                        this.switchLayer('intro-layer', 'lock-layer');
                    }, 500);
                }, 3500);
            },

            switchLayer(fromId, toId) {
                const from = document.getElementById(fromId);
                const to = document.getElementById(toId);
                from.classList.remove('visible');
                from.classList.add('hidden');
                to.classList.remove('removed');
                setTimeout(() => {
                    from.classList.add('removed');
                    to.classList.remove('hidden');
                    to.classList.add('visible');
                    this.currentLayer = toId;
                }, 1000);
            },

            unlockSuccess() {
                AudioSys.setTone(800, 0.1);
                setTimeout(() => AudioSys.stop(), 500);
                this.switchLayer('lock-layer', 'core-layer');
                Visuals.createHeart();
                this.startTimer();
            },

            startTimer() {
                const timerEl = document.getElementById('timer');
                setInterval(() => {
                    const diff = new Date().getTime() - CONFIG.startDate;
                    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
                    const mins = Math.floor((diff / (1000 * 60)) % 60);
                    const secs = Math.floor((diff / 1000) % 60);
                    timerEl.textContent = `${String(days).padStart(2, '0')}:${String(hours).padStart(2, '0')}:${String(mins).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
                }, 1000);
            },


        };

        window.onload = () => App.init();
    </script>
</body>

</html>